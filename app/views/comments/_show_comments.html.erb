<% if view == :single_post %>
  <% if t.comments.size >= 3  %>
    <%= link_to "Show more replies", single_tweet_path(username: t.author.username, id: t.id), data: {turbo: false} %>
    <% if session[:new_comment] == 1 %>
      <% t.comments[-3..-2].each do |tweet| %>
        <%= render "comments/comment_tweet_info", t: tweet, view: view %>
      <% end %>
    <% else %>
      <% t.comments.last(2).each do |tweet| %>
        <%= render "comments/comment_tweet_info", t: tweet, view: view %>
      <% end %>
    <% end %>
  <% elsif t.comments.size == 1  || t.comments.size == 2 %>
    <% t.comments.last(10).each do |twt| %>
      <%= render "comments/comment_tweet_info", t: twt, view: view %>
    <% end %>
  <% end %>
<% else %>
  <% t&.comments&.by_relevance.to_a.each do |tweet| %>
    <%= render "comments/comment_tweet_info", t: tweet, original: t, view: view %>
  <% end %>
<% end %>
